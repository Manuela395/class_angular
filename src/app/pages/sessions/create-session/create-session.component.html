<div class="create-session-container">
  <div class="header">
    <h2>CREAR SESIÓN ECG</h2>
    <p>Completa la información de la sesión.</p>
  </div>

  <div class="form-card">
    <div class="form-group">
      <label for="patient">Nombres y Apellidos *</label>
      <select id="patient" [(ngModel)]="selectedPatientId" (ngModelChange)="onPatientChange()">
        <option value="">Seleccione un paciente</option>
        <option *ngFor="let patient of eligiblePatients" [value]="patient.patient_id">
          {{ patient.patient_name }} {{ patient.patient_last_name }}
        </option>
      </select>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="patient-identification">Identificación del paciente</label>
        <input
          id="patient-identification"
          type="text"
          [value]="selectedPatientIdentification"
          readonly
          placeholder="Se seleccionará automáticamente"
        />
      </div>

      <div class="form-group">
        <label for="assigned-device">Dispositivo asignado</label>
        <input
          id="assigned-device"
          type="text"
          [value]="selectedAssignedDevice"
          readonly
          placeholder="Se seleccionará automáticamente"
        />
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="sampling">Frecuencia de muestreo Hz</label>
        <input id="sampling" type="number" [(ngModel)]="form.sampling_hz" placeholder="Ej: 250" />
      </div>
      <div class="form-group">
        <label for="lead">Configuración electrodos</label>
        <input id="lead" type="text" [(ngModel)]="form.lead_config" placeholder="Ej: DI" />
      </div>
    </div>

    <div class="form-actions centered">
      <button class="btn-save" (click)="save()">Crear</button>
      <button class="btn-cancel" (click)="cancel()">Cancelar</button>
    </div>
  </div>
</div>


